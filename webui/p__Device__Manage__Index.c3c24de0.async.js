(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"K/z9":function(e,t,n){e.exports={btnGroup:"antd-pro-web-ui-src-pages-device-manage-index-btnGroup",btnItem:"antd-pro-web-ui-src-pages-device-manage-index-btnItem"}},NzeY:function(e,t,n){"use strict";var a=n("g09b"),i=n("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("IzEo");var d=a(n("bx4M"));n("g9YV");var r=a(n("wCAj"));n("+L6B");var l=a(n("2/Rp"));n("Pwec");var c=a(n("CtXQ"));n("+BJd");var u=a(n("mr32")),o=a(n("2Taf")),f=a(n("vZ4D")),s=a(n("l4Ni")),v=a(n("ujKo")),h=a(n("rlhR")),p=a(n("MhPg"));n("2qtc");var m,g,w,D=a(n("kLXV")),x=i(n("q1tI")),y=n("MuoO"),I=a(n("3a4m")),b=a(n("K/z9")),E=D.default.confirm,k=(m=(0,y.connect)(function(e){var t=e.device,n=e.loading;return{device:t,loading:n.models.device}}),m((w=function(e){function t(){var e,n;(0,o.default)(this,t);for(var a=arguments.length,i=new Array(a),d=0;d<a;d++)i[d]=arguments[d];return n=(0,s.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(i))),n.columns=[{title:"\u5e8f\u53f7",width:50,align:"center",key:"DeviceId",dataIndex:"DeviceId",fixed:"left",render:function(e,t,n){return n+1}},{title:"\u8bbe\u5907\u540d\u79f0",dataIndex:"DeviceName",align:"left",fixed:"left",width:140},{title:"\u8fde\u63a5\u53c2\u6570",align:"center",fixed:"left",width:180,render:function(e,t){return"".concat(t.DeviceIp,":").concat(t.DevicePort)}},{title:"\u5e8f\u5217\u53f7",dataIndex:"SerialNumber",align:"center",width:150},{title:"\u72b6\u6001",dataIndex:"DeviceStatus",align:"center",width:80,render:function(e,t){switch(e){case 1:return x.default.createElement(u.default,{color:"green"},"\u5728\u7ebf");case 2:return x.default.createElement(u.default,{color:"red"},"\u706f\u73e0\u5f02\u5e38");case 3:return x.default.createElement(u.default,{color:"red"},"\u6e29\u5ea6\u5f02\u5e38");default:return x.default.createElement(u.default,{color:"red"},"\u79bb\u7ebf")}}},{title:"\u5c5e\u6027",dataIndex:"DeviceAttribute",align:"center",width:80,render:function(e,t){switch(e){case 1:return"\u5e38\u4eae";case 2:return"\u9891\u95ea";case 3:return"\u7206\u95ea";case 4:return"\u81ea\u52a8"}}},{title:"\u529f\u7387",dataIndex:"DevicePower",align:"center",width:100},{title:"\u5149\u654f\u9600\u503c",dataIndex:"DeviceLightThreshold",align:"center",width:80},{title:"\u4eae\u5ea6",dataIndex:"DeviceBrightness",width:50,align:"center"},{title:"\u6e29\u5ea6",dataIndex:"DeviceTemperature",width:50,align:"center"},{title:"\u5206\u7ec4",dataIndex:"GroupName",align:"left",width:160},{title:"\u53d8\u500d\u8c03\u8282",align:"center",fixed:"right",width:90,render:function(e,t,a){return x.default.createElement("div",null,x.default.createElement(u.default,{onClick:n.handlePlus,color:"magenta"},x.default.createElement(c.default,{type:"plus"})),x.default.createElement(u.default,{onClick:n.handleMinus,color:"blue"},x.default.createElement(c.default,{type:"minus"})))}},{title:"\u64cd\u4f5c",width:160,fixed:"right",align:"center",render:function(e,t,a){return x.default.createElement("div",null,x.default.createElement(l.default,{onClick:function(){return n.edit(t)},icon:"edit",size:"small",ghost:!0,type:"primary"},"\u7f16\u8f91"),x.default.createElement(l.default,{onClick:function(){return n.showConfirm(t)},size:"small",icon:"delete",ghost:!0,type:"danger",style:{marginLeft:"".concat(6,"px")}},"\u79fb\u9664"))}}],n.handlePlus=function(){var e=n.props.dispatch;e({type:"device/handlePlus"})},n.handleMinus=function(){var e=n.props.dispatch;e({type:"device/handleMinus"})},n.getAddedDevice=function(){var e=n.props.dispatch;e({type:"device/getAddedDevice"})},n.refresh=function(){n.getAddedDevice()},n.edit=function(e){I.default.push({pathname:"/device/manage/edit",state:e})},n.remoteDevice=function(e){var t=n.props.dispatch;t({type:"device/removeAddedDevice",payload:e}).then(function(e){e&&n.refresh()})},n.showConfirm=function(e){var t=(0,h.default)(n);E({title:"\u79fb\u9664\u8bbe\u5907?",content:"\u70b9\u51fb\u786e\u5b9a\u6309\u94ae\uff0c\u5c06\u4f1a\u4ece\u8bbe\u5907\u7ba1\u7406\u5217\u8868\u4e2d\u5220\u9664\u8bbe\u5907",onOk:function(){t.remoteDevice(e.DeviceId)},onCancel:function(){}})},n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.getAddedDevice()}},{key:"render",value:function(){var e=this.props,t=e.device,n=e.loading;return x.default.createElement(d.default,{title:"\u8bbe\u5907\u7ba1\u7406"},x.default.createElement("div",{className:b.default.btnGroup},x.default.createElement(l.default,{icon:"sync",onClick:this.refresh,className:b.default.btnItem,type:"primary",ghost:!0},"\u5237\u65b0")),x.default.createElement(r.default,{rowKey:"id",bordered:!0,size:"small",scroll:{x:1380},loading:n,dataSource:t.addedDeviceList,columns:this.columns}))}}]),t}(x.Component),g=w))||g),C=k;t.default=C}}]);