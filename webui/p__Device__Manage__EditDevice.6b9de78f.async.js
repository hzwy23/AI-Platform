(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"62ka":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var u=l(a("bx4M"));a("+L6B");var n=l(a("2/Rp"));a("Xi6J");var d=l(a("kl6h"));a("8dk+");var r=l(a("eZ87"));a("5NDa");var o=l(a("5rEg"));a("miYZ");var s=l(a("tsqr")),m=l(a("2Taf")),f=l(a("vZ4D")),c=l(a("l4Ni")),h=l(a("ujKo")),p=l(a("MhPg"));a("y8nQ");var g=l(a("Vl3Y"));a("sRBo");var v=l(a("kaz8"));a("OaEy");var b,E,S,V,k=l(a("2fM7")),y=i(a("q1tI")),T=l(a("3a4m")),M=a("MuoO"),H=l(a("wd/R")),I=(k.default.Option,v.default.Group),D=(b=g.default.create(),E=(0,M.connect)(function(e){var t=e.device,a=e.loading;return{device:t,loading:a.models.user}}),b(S=E((V=function(e){function t(){var e,a;(0,m.default)(this,t);for(var l=arguments.length,i=new Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(0,c.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(i))),a.state={autoVisual:"none",lightSenseVisual:"none",timerVisual:"none",lightMode:[],autoStartTime:"",autoEndTime:""},a.onSelect=function(e){4===e?a.setState({autoVisual:"block"}):a.setState({autoVisual:"none"})},a.onOk=function(e){s.default.info("ok",e)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){null==e&&a.submit(t)})},a.submit=function(e){var t=a.props.dispatch;2===e.LightMode.length?e.LightMode="3":e.LightMode.indexOf("1")>-1?e.LightMode="1":e.LightMode.indexOf("2")>-1?e.LightMode="2":e.LightMode="0",e.AutoStartTime=(0,H.default)(e.AutoStartTime,"HH:mm").format("HH:mm"),e.AutoEndTime=(0,H.default)(e.AutoEndTime,"HH:mm").format("HH:mm"),console.log(e),t({type:"device/editAddedDevice",payload:e}).then(function(e){e&&a.handleClose()})},a.handleClose=function(){T.default.push("/device/manage")},a.onChange=function(e){0!==e.length?(e.indexOf("1")>-1?a.setState({lightSenseVisual:"block"}):a.setState({lightSenseVisual:"none"}),e.indexOf("2")>-1?a.setState({timerVisual:"block"}):a.setState({timerVisual:"none"})):a.setState({lightSenseVisual:"none",timerVisual:"none"})},a}return(0,p.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state,t=e.LightMode,a=e.DeviceAttribute,l=e.AutoStartTime,i=e.AutoEndTime;4===a&&this.setState({autoVisual:"block"}),0===t?this.setState({lightMode:[]}):1===t?this.setState({lightMode:["1"],lightSenseVisual:"block",timerVisual:"none"}):2===t?this.setState({lightMode:["2"],lightSenseVisual:"none",timerVisual:"block",autoStartTime:(0,H.default)(l,"HH:mm"),autoEndTime:(0,H.default)(i,"HH:mm")}):this.setState({lightMode:["1","2"],timerVisual:"block",lightSenseVisual:"block",autoStartTime:(0,H.default)(l,"HH:mm"),autoEndTime:(0,H.default)(i,"HH:mm")})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.autoVisual,l=t.lightSenseVisual,i=t.timerVisual,s=t.lightMode,m=t.autoStartTime,f=t.autoEndTime,c=this.props.location.state,h=c.SerialNumber,p=c.DeviceName,v=c.DeviceIp,b=c.DevicePort,E=c.DeviceLightThreshold,S=c.DeviceBrightness,V=c.DeviceAttribute,T=(c.AutoStartTime,c.AutoEndTime,c.LightMode,{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"}),M=[{key:1,value:"\u5e38\u4eae"},{key:2,value:"\u9891\u95ea"},{key:3,value:"\u7206\u706f"},{key:4,value:"\u81ea\u52a8"}],H={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13",14:"14",15:"15",16:"16",17:"17",18:"18",19:"19",20:"20"};return y.default.createElement(u.default,{title:"\u4fee\u6539\u8bbe\u5907\u53c2\u6570"},y.default.createElement(g.default,{labelCol:{span:4},wrapperCol:{span:16},onSubmit:this.handleSubmit},y.default.createElement(g.default.Item,{label:"\u8bbe\u5907\u5e8f\u5217\u53f7"},e("SerialNumber",{initialValue:h,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bbe\u5907\u53f7"}]})(y.default.createElement(o.default,{disabled:!0}))),y.default.createElement(g.default.Item,{label:"\u8bbe\u5907\u540d\u79f0"},e("DeviceName",{initialValue:p,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bbe\u5907\u540d\u79f0"}]})(y.default.createElement(o.default,null))),y.default.createElement(g.default.Item,{label:"IP\u5730\u5740"},e("DeviceIp",{initialValue:v,rules:[{required:!0,message:"\u8bf7\u8f93\u5165IP\u5730\u5740"}]})(y.default.createElement(o.default,{disabled:!0}))),y.default.createElement(g.default.Item,{label:"\u670d\u52a1\u7aef\u53e3"},e("DevicePort",{initialValue:b,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u670d\u52a1\u7aef\u53e3"}]})(y.default.createElement(o.default,{disabled:!0}))),y.default.createElement(g.default.Item,{label:"\u4eae\u5ea6"},e("DeviceBrightness",{initialValue:S,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u706f\u4eae\u5ea6"}]})(y.default.createElement(r.default,{max:20,min:1,marks:H,step:null,defaultValue:S}))),y.default.createElement(g.default.Item,{label:"\u5c5e\u6027"},e("DeviceAttribute",{initialValue:V})(y.default.createElement(k.default,{style:{width:"100%"},optionFilterProp:"children",onSelect:this.onSelect,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},M.map(function(e){return y.default.createElement(k.default.Option,{key:e.key,value:e.key},e.value,y.default.createElement("span",{style:{color:"#cccccc"}},"-(\u7f16\u7801\uff1a",e.key,")"))})))),y.default.createElement("div",{style:{display:a}},y.default.createElement(g.default.Item,{label:"\u8865\u5149\u6a21\u5f0f"},e("LightMode",{initialValue:s})(y.default.createElement(I,{options:[{label:"\u81ea\u52a8\u68c0\u6d4b\u4eae\u5ea6\u63a7\u5236\u8865\u5149\u706f",value:"1"},{label:"\u6309\u65f6\u95f4\u542f\u7528\u8865\u5149\u706f",value:"2"}],onChange:this.onChange}))),y.default.createElement(g.default.Item,{style:{display:l},label:"\u5149\u654f\u9600\u503c"},e("DeviceLightThreshold",{initialValue:E,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5149\u654f\u9600\u503c"}]})(y.default.createElement(r.default,{max:6,min:1,marks:T,step:null,defaultValue:E}))),y.default.createElement(g.default.Item,{style:{display:i},label:"\u5b9a\u65f6\u5f00\u542f\u65f6\u95f4\u8303\u56f4"},y.default.createElement("div",{style:{width:"100%"}},"\u5f00\u59cb\u65f6\u95f4\uff1a",e("AutoStartTime",{initialValue:m,rules:[{required:!1,message:"\u5f00\u59cb\u65f6\u95f4"}]})(y.default.createElement(d.default,{minuteStep:1,format:"HH:mm"})),"- \u7ed3\u675f\u65f6\u95f4\uff1a",e("AutoEndTime",{initialValue:f,rules:[{required:!1,message:"\u7ed3\u675f\u65f6\u95f4"}]})(y.default.createElement(d.default,{minuteStep:1,format:"HH:mm"}))))),y.default.createElement(g.default.Item,{label:"\u8bbe\u5907PIN\u7801"},e("Pin",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bbe\u5907PIN\u7801\uff0c\u5982\u5fd8\u8bb0\u8bbe\u5907PIN\u7801\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"}]})(y.default.createElement(o.default.Password,{defaultValue:"123456"}))),y.default.createElement(g.default.Item,{wrapperCol:{span:12,offset:5}},y.default.createElement(n.default,{onClick:this.handleSubmit,type:"primary",icon:"check-circle",htmlType:"submit"},"\u4fdd\u5b58"),"\xa0\xa0\xa0\xa0",y.default.createElement(n.default,{onClick:this.handleClose,type:"danger",icon:"close-circle",htmlType:"submit"},"\u5173\u95ed"))))}}]),t}(y.Component),S=V))||S)||S),A=D;t.default=A}}]);