(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"K/z9":function(e,t,n){e.exports={btnGroup:"antd-pro-web-ui-src-pages-device-manage-index-btnGroup",btnItem:"antd-pro-web-ui-src-pages-device-manage-index-btnItem"}},NzeY:function(e,t,n){"use strict";var r=n("g09b"),a=n("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("IzEo");var i=r(n("bx4M"));n("g9YV");var d=r(n("wCAj"));n("+L6B");var l=r(n("2/Rp"));n("Pwec");var c=r(n("CtXQ"));n("+BJd");var u=r(n("mr32")),o=r(n("2Taf")),f=r(n("vZ4D")),s=r(n("l4Ni")),v=r(n("ujKo")),h=r(n("rlhR")),p=r(n("MhPg"));n("2qtc");var m,g,w,D=r(n("kLXV")),b=a(n("q1tI")),x=n("MuoO"),y=r(n("3a4m")),I=r(n("K/z9")),E=D.default.confirm,A=(m=(0,x.connect)(function(e){var t=e.device,n=e.loading;return{device:t,loading:n.models.device}}),m((w=function(e){function t(){var e,n;(0,o.default)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=(0,s.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(a))),n.columns=[{title:"\u5e8f\u53f7",width:50,align:"center",key:"DeviceId",dataIndex:"DeviceId",fixed:"left",render:function(e,t,n){return n+1}},{title:"\u8bbe\u5907\u540d\u79f0",dataIndex:"DeviceName",align:"left",fixed:"left",width:140},{title:"\u8fde\u63a5\u53c2\u6570",align:"center",fixed:"left",width:160,render:function(e,t){return"".concat(t.DeviceIp,":").concat(t.DevicePort)}},{title:"\u5e8f\u5217\u53f7",dataIndex:"SerialNumber",align:"center",width:230},{title:"\u72b6\u6001",dataIndex:"DeviceStatus",align:"center",width:60,render:function(e,t){switch(e){case 1:return b.default.createElement(u.default,{color:"green"},"\u5728\u7ebf");case 2:return b.default.createElement(u.default,{color:"red"},"\u706f\u73e0\u5f02\u5e38");case 3:return b.default.createElement(u.default,{color:"red"},"\u6e29\u5ea6\u5f02\u5e38");default:return b.default.createElement(u.default,{color:"red"},"\u79bb\u7ebf")}}},{title:"\u5c5e\u6027",dataIndex:"DeviceAttribute",align:"center",width:60,render:function(e,t){switch(e){case 1:return"\u5e38\u4eae";case 2:return"\u9891\u95ea";case 3:return"\u7206\u95ea";default:return"-"}}},{title:"\u529f\u7387",dataIndex:"DevicePower",align:"center",width:80},{title:"\u8865\u5149\u6a21\u5f0f",dataIndex:"LightMode",align:"center",width:100,render:function(e,t){if(3===t.DeviceAttribute)return"-";switch(e){case 1:return"\u5149\u654f\u63a7\u5236";case 2:return"\u5b9a\u65f6\u63a7\u5236";case 3:return"\u5168\u5929\u5e38\u4eae";default:return"-"}}},{title:"\u5149\u654f\u9600\u503c",dataIndex:"DeviceLightThreshold",align:"center",width:80,render:function(e,t){return 3!==t.DeviceAttribute&&1===t.LightMode?e:"-"}},{title:"\u4eae\u5ea6",dataIndex:"DeviceBrightness",width:50,align:"center",render:function(e,t){return 1===t.DeviceAttribute?e:"-"}},{title:"\u6e29\u5ea6",dataIndex:"DeviceTemperature",width:50,align:"center"},{title:"\u7206\u95ea\u6b21\u6570",dataIndex:"StrobeCount",width:80,align:"center",render:function(e,t){return 3===t.DeviceAttribute?e:"-"}},{title:"\u5206\u7ec4",dataIndex:"GroupName",align:"left",width:160},{title:"\u53d8\u500d\u8c03\u8282",align:"center",fixed:"right",width:90,render:function(e,t,r){return b.default.createElement("div",null,b.default.createElement(u.default,{onClick:function(){return n.handlePlus(t.SerialNumber)},color:"magenta"},b.default.createElement(c.default,{type:"plus"})),b.default.createElement(u.default,{onClick:function(){return n.handleMinus(t.SerialNumber)},color:"blue"},b.default.createElement(c.default,{type:"minus"})))}},{title:"\u64cd\u4f5c",width:160,fixed:"right",align:"center",render:function(e,t,r){return b.default.createElement("div",null,b.default.createElement(l.default,{onClick:function(){return n.edit(t)},icon:"edit",size:"small",ghost:!0,type:"primary"},"\u7f16\u8f91"),b.default.createElement(l.default,{onClick:function(){return n.showConfirm(t)},size:"small",icon:"delete",ghost:!0,type:"danger",style:{marginLeft:"".concat(6,"px")}},"\u79fb\u9664"))}}],n.handlePlus=function(e){var t=n.props.dispatch;t({type:"device/handlePlus",payload:e})},n.handleMinus=function(e){var t=n.props.dispatch;t({type:"device/handleMinus",payload:e})},n.getAddedDevice=function(){var e=n.props.dispatch;e({type:"device/getAddedDevice"})},n.refresh=function(){n.getAddedDevice()},n.edit=function(e){y.default.push({pathname:"/device/manage/edit",state:e})},n.remoteDevice=function(e){var t=n.props.dispatch;t({type:"device/removeAddedDevice",payload:e}).then(function(e){e&&n.refresh()})},n.showConfirm=function(e){var t=(0,h.default)(n);E({title:"\u79fb\u9664\u8bbe\u5907?",content:"\u70b9\u51fb\u786e\u5b9a\u6309\u94ae\uff0c\u5c06\u4f1a\u4ece\u8bbe\u5907\u7ba1\u7406\u5217\u8868\u4e2d\u5220\u9664\u8bbe\u5907",onOk:function(){t.remoteDevice(e.DeviceId)},onCancel:function(){}})},n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.getAddedDevice()}},{key:"render",value:function(){var e=this.props,t=e.device,n=e.loading;return b.default.createElement(i.default,{title:"\u8bbe\u5907\u7ba1\u7406"},b.default.createElement("div",{className:I.default.btnGroup},b.default.createElement(l.default,{icon:"sync",onClick:this.refresh,className:I.default.btnItem,type:"primary",ghost:!0},"\u5237\u65b0")),b.default.createElement(d.default,{rowKey:"DeviceId",bordered:!0,size:"small",scroll:{x:1560},loading:n,dataSource:t.addedDeviceList,columns:this.columns}))}}]),t}(b.Component),g=w))||g),k=A;t.default=k}}]);