(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"62ka":function(e,t,l){"use strict";var a=l("g09b"),i=l("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l("IzEo");var u=a(l("bx4M"));l("+L6B");var n=a(l("2/Rp"));l("Xi6J");var s=a(l("kl6h"));l("7Kak");var o=a(l("9yH6"));l("8dk+");var d=a(l("eZ87"));l("OaEy");var r=a(l("2fM7"));l("5NDa");var m=a(l("5rEg")),f=a(l("2Taf")),c=a(l("vZ4D")),h=a(l("l4Ni")),p=a(l("ujKo")),V=a(l("MhPg"));l("y8nQ");var g,v,E,S,b=a(l("Vl3Y")),y=i(l("q1tI")),k=a(l("3a4m")),H=l("MuoO"),D=a(l("wd/R")),I=(g=b.default.create(),v=(0,H.connect)(function(e){var t=e.device,l=e.loading;return{device:t,loading:l.models.user}}),g(E=v((S=function(e){function t(){var e,l;(0,f.default)(this,t);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return l=(0,h.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(i))),l.state={lightSenseVisual:"none",timerVisual:"none",autoVisual:"none",modeVisual:"block",singleVisual:"none",lightMode:[],autoStartTime:"",autoEndTime:"",explosionVisual:""},l.handleSubmit=function(e){e.preventDefault(),l.props.form.validateFields(function(e,t){null==e&&l.submit(t)})},l.submit=function(e){var t=l.props.dispatch;e.AutoStartTime=(0,D.default)(e.AutoStartTime,"HH:mm").format("HH:mm"),e.AutoEndTime=(0,D.default)(e.AutoEndTime,"HH:mm").format("HH:mm"),t({type:"device/editAddedDevice",payload:e}).then(function(e){e&&l.handleClose()})},l.handleClose=function(){k.default.push("/device/manage")},l.lightModeChange=function(e){var t=e.target.value;0!==t.length?(1===t?l.setState({lightSenseVisual:"block"}):l.setState({lightSenseVisual:"none"}),2===t?l.setState({timerVisual:"block"}):l.setState({timerVisual:"none"})):l.setState({lightSenseVisual:"none",timerVisual:"none"})},l.onSelect=function(e){1===e?l.setState({autoVisual:"inline",explosionVisual:"none",modeVisual:"inline",singleVisual:"none"}):3===e?l.setState({autoVisual:"none",explosionVisual:"block",modeVisual:"none",singleVisual:"inline"}):l.setState({autoVisual:"none",explosionVisual:"none",modeVisual:"inline",singleVisual:"inline"})},l}return(0,V.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state,t=e.LightMode,l=e.DeviceAttribute,a=e.AutoStartTime,i=e.AutoEndTime;1===l?this.setState({autoVisual:"inline",explosionVisual:"none",modeVisual:"inline",singleVisual:"none"}):3===l?this.setState({autoVisual:"none",explosionVisual:"block",modeVisual:"none",singleVisual:"inline",lightMode:4}):this.setState({autoVisual:"none",explosionVisual:"none",modeVisual:"inline",singleVisual:"inline"}),0===t?this.setState({lightMode:""}):1===t?this.setState({lightMode:t,lightSenseVisual:"block",timerVisual:"none"}):2===t?this.setState({lightMode:t,lightSenseVisual:"none",timerVisual:"block",autoStartTime:(0,D.default)(a,"HH:mm"),autoEndTime:(0,D.default)(i,"HH:mm")}):this.setState({lightMode:t,timerVisual:"none",lightSenseVisual:"none",autoStartTime:(0,D.default)(a,"HH:mm"),autoEndTime:(0,D.default)(i,"HH:mm")})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,l=t.lightSenseVisual,a=t.timerVisual,i=t.lightMode,f=t.autoStartTime,c=t.autoEndTime,h=t.autoVisual,p=t.explosionVisual,V=t.modeVisual,g=this.props.location.state,v=g.SerialNumber,E=g.DeviceName,S=g.DeviceIp,k=g.DevicePort,H=g.DeviceLightThreshold,I=g.DeviceBrightness,T=g.DeviceAttribute,M=g.FlashDuration,w={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},A={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},C=[{key:1,value:"\u5e38\u4eae"},{key:2,value:"\u9891\u95ea"},{key:3,value:"\u7206\u95ea"}],x={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13",14:"14",15:"15",16:"16",17:"17",18:"18",19:"19",20:"20"};return y.default.createElement(u.default,{title:"\u4fee\u6539\u8bbe\u5907\u53c2\u6570"},y.default.createElement(b.default,{labelCol:{span:4},wrapperCol:{span:16},onSubmit:this.handleSubmit},y.default.createElement(b.default.Item,{label:"\u8bbe\u5907\u5e8f\u5217\u53f7"},e("SerialNumber",{initialValue:v,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bbe\u5907\u53f7"}]})(y.default.createElement(m.default,{disabled:!0}))),y.default.createElement(b.default.Item,{label:"\u8bbe\u5907\u540d\u79f0"},e("DeviceName",{initialValue:E,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bbe\u5907\u540d\u79f0"}]})(y.default.createElement(m.default,null))),y.default.createElement(b.default.Item,{label:"IP\u5730\u5740"},e("DeviceIp",{initialValue:S,rules:[{required:!0,message:"\u8bf7\u8f93\u5165IP\u5730\u5740"}]})(y.default.createElement(m.default,{disabled:!0}))),y.default.createElement(b.default.Item,{label:"\u670d\u52a1\u7aef\u53e3"},e("DevicePort",{initialValue:k,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u670d\u52a1\u7aef\u53e3"}]})(y.default.createElement(m.default,{disabled:!0}))),y.default.createElement(b.default.Item,{label:"\u5c5e\u6027"},e("DeviceAttribute",{initialValue:T})(y.default.createElement(r.default,{style:{width:"100%"},optionFilterProp:"children",onSelect:this.onSelect,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},C.map(function(e){return y.default.createElement(r.default.Option,{key:e.key,value:e.key},e.value,y.default.createElement("span",{style:{color:"#cccccc"}},"-(\u7f16\u7801\uff1a",e.key,")"))})))),y.default.createElement("div",{style:{display:h}},y.default.createElement(b.default.Item,{label:"\u4eae\u5ea6"},e("DeviceBrightness",{initialValue:I,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u706f\u4eae\u5ea6"}]})(y.default.createElement(d.default,{max:20,min:1,marks:x,step:null})))),y.default.createElement("div",{style:{display:p}},y.default.createElement(b.default.Item,{label:"\u7206\u95ea\u65f6\u95f4"},e("FlashDuration",{initialValue:M,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u706f\u4eae\u5ea6"}]})(y.default.createElement(d.default,{max:10,min:1,marks:A,step:null})))),y.default.createElement("div",{style:{display:V}},y.default.createElement(b.default.Item,{label:"\u8865\u5149\u6a21\u5f0f"},e("LightMode",{initialValue:i})(y.default.createElement(o.default.Group,{onChange:this.lightModeChange},y.default.createElement(o.default,{value:1},"\u81ea\u52a8\u68c0\u6d4b\u4eae\u5ea6\u63a7\u5236\u8865\u5149\u706f"),y.default.createElement(o.default,{value:2},"\u6309\u65f6\u95f4\u542f\u7528\u8865\u5149\u706f"),y.default.createElement(o.default,{value:3,style:{display:h}},"\u5168\u5929\u5e38\u4eae")))),y.default.createElement(b.default.Item,{style:{display:l},label:"\u5149\u654f\u9600\u503c"},e("DeviceLightThreshold",{initialValue:H,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5149\u654f\u9600\u503c"}]})(y.default.createElement(d.default,{max:6,min:1,marks:w,step:null}))),y.default.createElement(b.default.Item,{style:{display:a},label:"\u5b9a\u65f6\u5f00\u542f\u65f6\u95f4\u8303\u56f4"},y.default.createElement("div",{style:{width:"100%"}},"\u5f00\u59cb\u65f6\u95f4\uff1a",e("AutoStartTime",{initialValue:f||(0,D.default)("18:00","HH:mm"),rules:[{required:!1,message:"\u5f00\u59cb\u65f6\u95f4"}]})(y.default.createElement(s.default,{minuteStep:1,format:"HH:mm"})),"\xa0\xa0-\xa0 \u7ed3\u675f\u65f6\u95f4\uff1a",e("AutoEndTime",{initialValue:c||(0,D.default)("06:00","HH:mm"),rules:[{required:!1,message:"\u7ed3\u675f\u65f6\u95f4"}]})(y.default.createElement(s.default,{minuteStep:1,format:"HH:mm"}))))),y.default.createElement(b.default.Item,{label:"\u8bbe\u5907PIN\u7801"},e("Pin",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bbe\u5907PIN\u7801\uff0c\u5982\u5fd8\u8bb0\u8bbe\u5907PIN\u7801\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"}]})(y.default.createElement(m.default.Password,null))),y.default.createElement(b.default.Item,{wrapperCol:{span:12,offset:5}},y.default.createElement(n.default,{onClick:this.handleSubmit,type:"primary",icon:"check-circle",htmlType:"submit"},"\u4fdd\u5b58"),"\xa0\xa0\xa0\xa0",y.default.createElement(n.default,{onClick:this.handleClose,type:"danger",icon:"close-circle",htmlType:"submit"},"\u5173\u95ed"))))}}]),t}(y.Component),E=S))||E)||E),T=I;t.default=T}}]);