(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"62ka":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var u=l(a("bx4M"));a("+L6B");var n=l(a("2/Rp"));a("Xi6J");var d=l(a("kl6h"));a("8dk+");var r=l(a("eZ87"));a("5NDa");var o=l(a("5rEg")),s=l(a("2Taf")),m=l(a("vZ4D")),f=l(a("l4Ni")),c=l(a("ujKo")),h=l(a("MhPg"));a("y8nQ");var p=l(a("Vl3Y"));a("sRBo");var g=l(a("kaz8"));a("OaEy");var v,E,b,S,y=l(a("2fM7")),V=i(a("q1tI")),k=l(a("3a4m")),M=a("MuoO"),T=l(a("wd/R")),H=(y.default.Option,g.default.Group),I=(v=p.default.create(),E=(0,M.connect)(function(e){var t=e.device,a=e.loading;return{device:t,loading:a.models.user}}),v(b=E((S=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,i=new Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(0,f.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i))),a.state={lightSenseVisual:"none",timerVisual:"none",lightMode:[],autoStartTime:"",autoEndTime:""},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){null==e&&a.submit(t)})},a.submit=function(e){var t=a.props.dispatch;2===e.LightMode.length?e.LightMode="3":e.LightMode.indexOf("1")>-1?e.LightMode="1":e.LightMode.indexOf("2")>-1?e.LightMode="2":e.LightMode="0",e.AutoStartTime=(0,T.default)(e.AutoStartTime,"HH:mm").format("HH:mm"),e.AutoEndTime=(0,T.default)(e.AutoEndTime,"HH:mm").format("HH:mm"),t({type:"device/editAddedDevice",payload:e}).then(function(e){e&&a.handleClose()})},a.handleClose=function(){k.default.push("/device/manage")},a.lightModeChange=function(e){0!==e.length?(e.indexOf("1")>-1?a.setState({lightSenseVisual:"block"}):a.setState({lightSenseVisual:"none"}),e.indexOf("2")>-1?a.setState({timerVisual:"block"}):a.setState({timerVisual:"none"})):a.setState({lightSenseVisual:"none",timerVisual:"none"})},a}return(0,h.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state,t=e.LightMode,a=e.AutoStartTime,l=e.AutoEndTime;0===t?this.setState({lightMode:[]}):1===t?this.setState({lightMode:["1"],lightSenseVisual:"block",timerVisual:"none"}):2===t?this.setState({lightMode:["2"],lightSenseVisual:"none",timerVisual:"block",autoStartTime:(0,T.default)(a,"HH:mm"),autoEndTime:(0,T.default)(l,"HH:mm")}):this.setState({lightMode:["1","2"],timerVisual:"block",lightSenseVisual:"block",autoStartTime:(0,T.default)(a,"HH:mm"),autoEndTime:(0,T.default)(l,"HH:mm")})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.lightSenseVisual,l=t.timerVisual,i=t.lightMode,s=t.autoStartTime,m=t.autoEndTime,f=this.props.location.state,c=f.SerialNumber,h=f.DeviceName,g=f.DeviceIp,v=f.DevicePort,E=f.DeviceLightThreshold,b=f.DeviceBrightness,S=f.DeviceAttribute,k=(f.AutoStartTime,f.AutoEndTime,f.LightMode,{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"}),M=[{key:1,value:"\u5e38\u4eae"},{key:2,value:"\u9891\u95ea"},{key:3,value:"\u7206\u706f"}],T={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13",14:"14",15:"15",16:"16",17:"17",18:"18",19:"19",20:"20"};return V.default.createElement(u.default,{title:"\u4fee\u6539\u8bbe\u5907\u53c2\u6570"},V.default.createElement(p.default,{labelCol:{span:4},wrapperCol:{span:16},onSubmit:this.handleSubmit},V.default.createElement(p.default.Item,{label:"\u8bbe\u5907\u5e8f\u5217\u53f7"},e("SerialNumber",{initialValue:c,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bbe\u5907\u53f7"}]})(V.default.createElement(o.default,{disabled:!0}))),V.default.createElement(p.default.Item,{label:"\u8bbe\u5907\u540d\u79f0"},e("DeviceName",{initialValue:h,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bbe\u5907\u540d\u79f0"}]})(V.default.createElement(o.default,null))),V.default.createElement(p.default.Item,{label:"IP\u5730\u5740"},e("DeviceIp",{initialValue:g,rules:[{required:!0,message:"\u8bf7\u8f93\u5165IP\u5730\u5740"}]})(V.default.createElement(o.default,{disabled:!0}))),V.default.createElement(p.default.Item,{label:"\u670d\u52a1\u7aef\u53e3"},e("DevicePort",{initialValue:v,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u670d\u52a1\u7aef\u53e3"}]})(V.default.createElement(o.default,{disabled:!0}))),V.default.createElement(p.default.Item,{label:"\u4eae\u5ea6"},e("DeviceBrightness",{initialValue:b,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u706f\u4eae\u5ea6"}]})(V.default.createElement(r.default,{max:20,min:1,marks:T,step:null,defaultValue:b}))),V.default.createElement(p.default.Item,{label:"\u5c5e\u6027"},e("DeviceAttribute",{initialValue:S})(V.default.createElement(y.default,{style:{width:"100%"},optionFilterProp:"children",onSelect:this.onSelect,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},M.map(function(e){return V.default.createElement(y.default.Option,{key:e.key,value:e.key},e.value,V.default.createElement("span",{style:{color:"#cccccc"}},"-(\u7f16\u7801\uff1a",e.key,")"))})))),V.default.createElement("div",{style:{display:!0}},V.default.createElement(p.default.Item,{label:"\u8865\u5149\u6a21\u5f0f"},e("LightMode",{initialValue:i})(V.default.createElement(H,{options:[{label:"\u81ea\u52a8\u68c0\u6d4b\u4eae\u5ea6\u63a7\u5236\u8865\u5149\u706f",value:"1"},{label:"\u6309\u65f6\u95f4\u542f\u7528\u8865\u5149\u706f",value:"2"}],onChange:this.lightModeChange}))),V.default.createElement(p.default.Item,{style:{display:a},label:"\u5149\u654f\u9600\u503c"},e("DeviceLightThreshold",{initialValue:E,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5149\u654f\u9600\u503c"}]})(V.default.createElement(r.default,{max:6,min:1,marks:k,step:null,defaultValue:E}))),V.default.createElement(p.default.Item,{style:{display:l},label:"\u5b9a\u65f6\u5f00\u542f\u65f6\u95f4\u8303\u56f4"},V.default.createElement("div",{style:{width:"100%"}},"\u5f00\u59cb\u65f6\u95f4\uff1a",e("AutoStartTime",{initialValue:s,rules:[{required:!1,message:"\u5f00\u59cb\u65f6\u95f4"}]})(V.default.createElement(d.default,{minuteStep:1,format:"HH:mm"})),"\xa0\xa0-\xa0 \u7ed3\u675f\u65f6\u95f4\uff1a",e("AutoEndTime",{initialValue:m,rules:[{required:!1,message:"\u7ed3\u675f\u65f6\u95f4"}]})(V.default.createElement(d.default,{minuteStep:1,format:"HH:mm"}))))),V.default.createElement(p.default.Item,{label:"\u8bbe\u5907PIN\u7801"},e("Pin",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bbe\u5907PIN\u7801\uff0c\u5982\u5fd8\u8bb0\u8bbe\u5907PIN\u7801\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"}]})(V.default.createElement(o.default.Password,{defaultValue:"123456"}))),V.default.createElement(p.default.Item,{wrapperCol:{span:12,offset:5}},V.default.createElement(n.default,{onClick:this.handleSubmit,type:"primary",icon:"check-circle",htmlType:"submit"},"\u4fdd\u5b58"),"\xa0\xa0\xa0\xa0",V.default.createElement(n.default,{onClick:this.handleClose,type:"danger",icon:"close-circle",htmlType:"submit"},"\u5173\u95ed"))))}}]),t}(V.Component),b=S))||b)||b),D=I;t.default=D}}]);