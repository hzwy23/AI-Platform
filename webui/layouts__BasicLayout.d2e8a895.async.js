(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"57a1":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=a("MuoO"),l=(a("Y2fQ"),n(a("kaFD"))),c=(n(a("2n1B")),n(a("h3zL"))),u=function(e){var t=e.theme,a=e.layout,n=c.default.right;return"dark"===t&&"topmenu"===a&&(n="".concat(c.default.right,"  ").concat(c.default.dark)),r.default.createElement("div",{className:n},r.default.createElement(l.default,{menu:!0}))},i=(0,o.connect)(function(e){var t=e.settings;return{theme:t.navTheme,layout:t.layout}})(u);t.default=i},Tckk:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return E});var n=a("q1tI"),r=a("CtXQ"),o=a("TSYQ"),l=a.n(o),c=a("wEI+");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,a){return t&&d(e.prototype,t),a&&d(e,a),e}function p(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}var b=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},E=function(e){function t(){var e;return f(this,t),e=p(this,v(t).apply(this,arguments)),e.state={scale:1,isImgExist:!0},e.setScale=function(){if(e.avatarChildren&&e.avatarNode){var t=e.avatarChildren.offsetWidth,a=e.avatarNode.offsetWidth;0===t||0===a||e.lastChildrenWidth===t&&e.lastNodeWidth===a||(e.lastChildrenWidth=t,e.lastNodeWidth=a,e.setState({scale:a-8<t?(a-8)/t:1}))}},e.handleImgLoadError=function(){var t=e.props.onError,a=t?t():void 0;!1!==a&&e.setState({isImgExist:!1})},e.renderAvatar=function(t){var a,o,c=t.getPrefixCls,u=e.props,f=u.prefixCls,d=u.shape,m=u.size,p=u.src,g=u.srcSet,v=u.icon,h=u.className,y=u.alt,E=b(u,["prefixCls","shape","size","src","srcSet","icon","className","alt"]),w=e.state,O=w.isImgExist,k=w.scale,x=c("avatar",f),N=l()((a={},s(a,"".concat(x,"-lg"),"large"===m),s(a,"".concat(x,"-sm"),"small"===m),a)),C=l()(x,h,N,(o={},s(o,"".concat(x,"-").concat(d),d),s(o,"".concat(x,"-image"),p&&O),s(o,"".concat(x,"-icon"),v),o)),S="number"===typeof m?{width:m,height:m,lineHeight:"".concat(m,"px"),fontSize:v?m/2:18}:{},M=e.props.children;if(p&&O)M=n["createElement"]("img",{src:p,srcSet:g,onError:e.handleImgLoadError,alt:y});else if(v)M=n["createElement"](r["default"],{type:v});else{var j=e.avatarChildren;if(j||1!==k){var I="scale(".concat(k,") translateX(-50%)"),P={msTransform:I,WebkitTransform:I,transform:I},T="number"===typeof m?{lineHeight:"".concat(m,"px")}:{};M=n["createElement"]("span",{className:"".concat(x,"-string"),ref:function(t){return e.avatarChildren=t},style:i({},T,P)},M)}else M=n["createElement"]("span",{className:"".concat(x,"-string"),ref:function(t){return e.avatarChildren=t}},M)}return n["createElement"]("span",i({},E,{style:i({},S,E.style),className:C,ref:function(t){return e.avatarNode=t}}),M)},e}return h(t,e),m(t,[{key:"componentDidMount",value:function(){this.setScale()}},{key:"componentDidUpdate",value:function(e){this.setScale(),e.src!==this.props.src&&this.setState({isImgExist:!0,scale:1})}},{key:"render",value:function(){return n["createElement"](c["a"],null,this.renderAvatar)}}]),t}(n["Component"]);E.defaultProps={shape:"circle",size:"default"}},Telt:function(e,t,a){"use strict";a.r(t);a("cIOH"),a("ifDB")},h3zL:function(e,t,a){e.exports={logo:"antd-pro-web-ui-src-components-global-header-index-logo",menu:"antd-pro-web-ui-src-components-global-header-index-menu",trigger:"antd-pro-web-ui-src-components-global-header-index-trigger",right:"antd-pro-web-ui-src-components-global-header-index-right",action:"antd-pro-web-ui-src-components-global-header-index-action",search:"antd-pro-web-ui-src-components-global-header-index-search",account:"antd-pro-web-ui-src-components-global-header-index-account",avatar:"antd-pro-web-ui-src-components-global-header-index-avatar",dark:"antd-pro-web-ui-src-components-global-header-index-dark",name:"antd-pro-web-ui-src-components-global-header-index-name"}},ifDB:function(e,t,a){e.exports={"ant-avatar":"ant-avatar","ant-avatar-image":"ant-avatar-image","ant-avatar-string":"ant-avatar-string","ant-avatar-icon":"ant-avatar-icon","ant-avatar-lg":"ant-avatar-lg","ant-avatar-lg-string":"ant-avatar-lg-string","ant-avatar-sm":"ant-avatar-sm","ant-avatar-sm-string":"ant-avatar-sm-string","ant-avatar-square":"ant-avatar-square"}},kaFD:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var r=n(a("W9HT"));a("lUTK");var o=n(a("BvKs"));a("Pwec");var l=n(a("CtXQ"));a("Telt");var c=n(a("Tckk")),u=n(a("2Taf")),i=n(a("vZ4D")),s=n(a("l4Ni")),f=n(a("ujKo")),d=n(a("MhPg")),m=a("Y2fQ"),p=n(a("q1tI")),g=a("MuoO"),v=n(a("3a4m")),h=n(a("6Wvd")),y=n(a("h3zL")),b=function(e){function t(){var e,a;(0,u.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=(0,s.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(r))),a.onMenuClick=function(e){var t=e.key;if("logout"!==t)v.default.push("/account/".concat(t));else{var n=a.props.dispatch;n&&n({type:"login/logout"})}},a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,a=void 0===t?{}:t,n=e.menu;if(!n)return p.default.createElement("span",{className:"".concat(y.default.action," ").concat(y.default.account)},p.default.createElement(c.default,{size:"small",className:y.default.avatar,src:a.avatar,alt:"avatar"}),p.default.createElement("span",{className:y.default.name},a.name));var u=p.default.createElement(o.default,{className:y.default.menu,selectedKeys:[],onClick:this.onMenuClick},p.default.createElement(o.default.Item,{key:"profile"},p.default.createElement(l.default,{type:"user"}),p.default.createElement(m.FormattedMessage,{id:"menu.account.center",defaultMessage:"account center"})),p.default.createElement(o.default.Item,{key:"password"},p.default.createElement(l.default,{type:"user"}),p.default.createElement(m.FormattedMessage,{id:"menu.account.password",defaultMessage:"account center"})),p.default.createElement(o.default.Divider,null),p.default.createElement(o.default.Item,{key:"logout"},p.default.createElement(l.default,{type:"logout"}),p.default.createElement(m.FormattedMessage,{id:"menu.account.logout",defaultMessage:"logout"})));return a&&a.NickName?p.default.createElement(h.default,{overlay:u},p.default.createElement("span",{className:"".concat(y.default.action," ").concat(y.default.account)},p.default.createElement(c.default,{size:"small",className:y.default.avatar,src:a.Avatar,alt:"avatar"}),p.default.createElement("span",{className:y.default.name},a.NickName))):p.default.createElement(r.default,{size:"small",style:{marginLeft:8,marginRight:8}})}}]),t}(p.default.Component),E=(0,g.connect)(function(e){var t=e.user;return{currentUser:t.currentUser}})(b);t.default=E},maEh:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a("jehZ")),l=r(a("gWZ8")),c=r(a("p0pE")),u=r(a("y1Nh")),i=n(a("q1tI")),s=r(a("wY1l")),f=a("MuoO"),d=a("Y2fQ"),m=r(a("HZnN")),p=r(a("57a1")),g=r(a("zwU1")),v=function e(t){return t.map(function(t){var a=(0,c.default)({},t,{children:t.children?e(t.children):[]});return m.default.check(t.authority,a,null)})},h=function(e,t){return i.default.createElement("div",{style:{textAlign:"center",height:"42px",lineHeight:"42px"}},"Copyright @ 2019")},y=function(e){var t=e.dispatch,a=e.children,n=e.settings;(0,i.useEffect)(function(){t&&(t({type:"user/fetchCurrent"}),t({type:"settings/getSetting"}))},[]);var r=function(e){return t&&t({type:"global/changeLayoutCollapsed",payload:e})};return i.default.createElement(u.default,(0,o.default)({logo:g.default,onCollapse:r,menuItemRender:function(e,t){return e.isUrl?t:i.default.createElement(s.default,{to:e.path},t)},breadcrumbRender:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{path:"/",breadcrumbName:(0,d.formatMessage)({id:"menu.home",defaultMessage:"Home"})}].concat((0,l.default)(e))},footerRender:h,menuDataRender:v,formatMessage:d.formatMessage,rightContentRender:function(e){return i.default.createElement(p.default,e)}},e,n),a)},b=(0,f.connect)(function(e){var t=e.global,a=e.settings;return{collapsed:t.collapsed,settings:a}})(y);t.default=b}}]);